(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},146:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),r=a.n(c),o=a(30),i=a.n(o),s=a(54),u=a(39),l=a(48),h=a(120),d=a(45),j="GET_WEATHER",b="GET_WEATHER_LOCATION",v="SELECT_SELECTED",f={weather:{},isLoadWeatherLocation:!1},p={select:[{value:"kiev",text:"\u041a\u0438\u0435\u0432"},{value:"kharkov",text:"\u0425\u0430\u0440\u044c\u043a\u043e\u0432"},{value:"odessa",text:"\u041e\u0434\u0435\u0441\u0441\u0430"},{value:"dnepr",text:"\u0414\u043d\u0435\u043f\u0440"},{value:"zaporizhzhia",text:"\u0417\u0430\u043f\u043e\u0440\u043e\u0436\u044c\u0435"},{value:"lvov",text:"\u041b\u044c\u0432\u043e\u0432"},{value:"doneck",text:"\u0414\u043e\u043d\u0435\u0446\u043a"},{value:"Kryvyi Rih",text:"\u041a\u0440\u0438\u0432\u043e\u0439 \u0420\u043e\u0433"},{value:"sevastopol",text:"\u0421\u0435\u0432\u0430\u0441\u0442\u043e\u043f\u043e\u043b\u044c"},{value:"mariupol",text:"\u041c\u0430\u0440\u0438\u0443\u043f\u043e\u043b\u044c"},{value:"luhansk",text:"\u041b\u0443\u0433\u0430\u043d\u0441\u043a"},{value:"vinitsa",text:"\u0412\u0438\u043d\u043d\u0438\u0446\u0430"},{value:"kherson",text:"\u0425\u0435\u0440\u0441\u043e\u043d"}]},O={weather:{},isLoadWeather:!1},x=Object(l.c)({weatherLocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{weather:t.payload,isLoadWeatherLocation:!0});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{weather:t.payload,isLoadWeather:!0});default:return e}},select:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(d.a)({},e);default:return e}}}),w=a(10);function m(){return{type:v}}var g=a(160),k=(a(142),function(){return Object(n.jsx)("div",{className:"loader",children:Object(n.jsx)(g.a,{active:!0,inline:"centered"})})}),E=(a(143),function(e){var t=e.weather,a=e.backButton;return Object(n.jsx)("div",{className:"weather",children:Object(n.jsxs)("div",{className:"weather__container",children:[a?Object(n.jsx)(_,{}):null,Object(n.jsxs)("div",{className:"weather__city",children:[t.name," ",Object(n.jsx)("i",{className:"location arrow icon"})]}),Object(n.jsxs)("div",{className:"weather__temp",children:[Math.round(t.main.temp),"\xb0"]}),Object(n.jsx)("div",{className:"weather__description",children:t.weather[0].description})]})})}),L=a(112),_=(a(144),function(){var e=Object(w.e)();return Object(n.jsx)("button",{className:"back-button",type:"button",onClick:function(){return e.goBack()},children:Object(n.jsx)(L.a,{name:"arrow alternate circle left outline",size:"big",color:"white",inverted:!0})})}),y=(a(146),a(147),a(161)),N=Object(u.b)((function(e){return{state:e}}),{selectSelector:m})((function(e){var t=e.state,a=Object(w.e)();return Object(n.jsx)(y.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",fluid:!0,search:!0,selection:!0,options:t.select.select,onChange:function(e,t){var n=t.value;m(),a.push("/details/".concat(n))}})})),W=Object(u.b)((function(e){return{state:e.weatherLocation}}),{getWeatherLocation:function(){return function(e){navigator.geolocation.getCurrentPosition((function(t){var a=t.coords,n=a.latitude,c=a.longitude;fetch("http://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(c,"&lang=ru&units=metric&appid=6953836598f1a03d32ed677f25c7eb6d")).then((function(e){if(!e.ok)throw new Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(t){return e({type:b,payload:t})}))}))}}})((function(e){var t=e.getWeatherLocation,a=e.state;console.log(a),Object(c.useEffect)((function(){t()}),[]);var r=a.isLoadWeatherLocation,o=a.weather;return Object(n.jsx)("div",{className:"weather",children:r?Object(n.jsxs)("div",{children:[Object(n.jsx)(E,{weather:o}),Object(n.jsx)(N,{})]}):Object(n.jsx)(k,{})})})),T=(a(150),{getWeather:function(e){return function(t){fetch(e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:j,payload:e}}(e))}))}}}),C=Object(u.b)((function(e){return{state:e.weather}}),T)((function(e){var t=e.state,a=e.getWeather,r=Object(w.f)();Object(c.useEffect)((function(){a("http://api.openweathermap.org/data/2.5/weather?q=".concat(r.id,"&lang=ru&units=metric&appid=6953836598f1a03d32ed677f25c7eb6d"))}),[]);var o=t.isLoadWeather,i=t.weather;return console.log(i),Object(n.jsx)("div",{className:"weather",children:o?Object(n.jsx)(E,{weather:i,backButton:!0}):Object(n.jsx)(k,{})})})),z=function(){return Object(n.jsx)("div",{className:"app",children:Object(n.jsx)("div",{className:"app__container",children:Object(n.jsxs)("div",{className:"app__block",children:[Object(n.jsx)(w.a,{exact:!0,path:"/",component:W}),Object(n.jsx)(w.a,{exact:!0,path:"/details/:id",component:C})]})})})},B=Object(l.d)(x,Object(l.a)(h.a));i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(u.a,{store:B,children:Object(n.jsx)(s.a,{children:Object(n.jsx)(z,{})})})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.a5ad9295.chunk.js.map